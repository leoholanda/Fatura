<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" xmlns:jsf="http://xmlns.jcp.org/jsf"
	template="/WEB-INF/template.xhtml">

	<ui:define name="title">
		<i class="fa fa-user MarRight10" />
		<h:outputText value="UsuÃ¡rio" />
	</ui:define>

	<ui:define name="content">

		<!-- senha atual -->
		<div id="login-wrapper">

			<ui:include src="../util/messages.xhtml" />
			<div class="ui-g ui-fluid">
				<p:dialog widgetVar="dialog-senha-atual" header="Senha" modal="true"
					visible="true" resizable="false" style="min-width: 350px"
					closable="false" responsive="true" showEffect="fade"
					hideEffect="clip">
					<h:form id="form-senha">
						<div class="ui-g-6">

							<div class="ui-g-12">
								<p:password id="senha-atual" value="#{usuarioMB.senhaValue}"
									placeholder="Informe sua senha atual" rendered="true" />
							</div>

							<div class="ui-g-6">
								<p:password id="senha1" value="#{usuarioMB.usuario.senha}"
									match="senha2" feedback="false" placeholder="Nova senha"
									validatorMessage="Senhas precisam ser iguais" />
							</div>

							<div class="ui-g-6">
								<p:password id="senha2" value="#{usuarioMB.usuario.senha}"
									match="senha2" placeholder="Repete senha" label="Repete senha" />
							</div>

							<div class="ui-g-6">
								<p:commandButton value="Cancelar"
									onclick="javascript:window.history.go(-1)" icon="fa fa-remove"
									styleClass="red-button" />
							</div>

							<div class="ui-g-6">
								<p:commandButton value="Salvar"
									action="#{usuarioMB.updateForPassword}" update="@form mensagem" process="@form"
									icon="fa fa-save" styleClass="green-button"
									oncomplete="if (!args.validationFailed) PF('dialog-senha').hide()" />
							</div>

						</div>
					</h:form>
				</p:dialog>
			</div>

		</div>
	</ui:define>

</ui:composition>